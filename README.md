–í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∫ –∫–∞–∂–¥–æ–º—É –º–æ–¥—É–ª—é –ø—Ä–æ–µ–∫—Ç–∞ VisitLog, –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω–∞—è –∫–∞–∫ README.md. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –≤ –ø–æ–ª–Ω–æ–º –≤–∏–¥–µ –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ.

---

# VisitLog

VisitLog ‚Äî —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É—á—ë—Ç–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞. –°–∏—Å—Ç–µ–º–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥—É–ª–µ–π, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

## üì¶ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞


VisitLog/
‚îú‚îÄ‚îÄ backend/
‚îú‚îÄ‚îÄ bot/
‚îú‚îÄ‚îÄ face_tracking/
‚îú‚îÄ‚îÄ video_recording/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îî‚îÄ‚îÄ README.md


---

## üß† –ú–æ–¥—É–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

### 1. backend/ ‚Äî API-—Å–µ—Ä–≤–µ—Ä

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ —á–µ—Ä–µ–∑ REST API. –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞:
- —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –ø–æ—Å–µ—â–µ–Ω–∏–π
- —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ –∑–∞–ø—Ä–æ—Å—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–ø–∏—Å–∫–æ–≤ –ø–æ—Å–µ—â–µ–Ω–∏–π)

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- FastAPI
- SQLite (–∏–ª–∏ PostgreSQL, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- SQLAlchemy

–ü—Ä–∏–º–µ—Ä —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:
- POST /visits/ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –æ –ø–æ—Å–µ—â–µ–Ω–∏–∏
- GET /visits/ ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ—Å–µ—â–µ–Ω–∏–π
- POST /users/ ‚Äî –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- GET /users/{id} ‚Äî –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ

---

### 2. bot/ ‚Äî Telegram-–±–æ—Ç

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–£–≤–µ–¥–æ–º–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤/–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –Ω–æ–≤—ã—Ö –ø–æ—Å–µ—â–µ–Ω–∏—è—Ö. –ú–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –Ω–∞–ø—Ä–∏–º–µ—Ä:
- /start
- /last_visit
- /help

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- telebot (pyTelegramBotAPI)

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞ –∏–∑ backend, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram.
- –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ Telegram.

---

### 3. face_tracking/ ‚Äî –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–†–∞—Å–ø–æ–∑–Ω–∞—ë—Ç –ª–∏—Ü–∞ –Ω–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–µ. –ü–µ—Ä–µ–¥–∞—ë—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è—Ö –≤ backend.

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- face_recognition (–Ω–∞ –±–∞–∑–µ dlib)
- OpenCV
- numpy

–§—É–Ω–∫—Ü–∏–∏:
- –ó–∞—Ö–≤–∞—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑ –≤–∏–¥–µ–æ
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü–∞
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–ø–æ –±–∞–∑–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ª–∏—Ü)
- –û—Ç–ø—Ä–∞–≤–∫–∞ ID —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ API

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –ª–∏—Ü –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

### 4. video_recording/ ‚Äî –ó–∞–ø–∏—Å—å –≤–∏–¥–µ–æ

–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:  
–ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ —Å –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã—Ö –∫–∞–º–µ—Ä –≤ –∞—Ä—Ö–∏–≤. –ú–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –∏–ª–∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤.

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:
- OpenCV
- FFmpeg (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ó–∞–ø–∏—Å—å —Ü–∏–∫–ª–∏—á–Ω–∞—è (–ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –≤–µ—Å—É)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏ (–∑–∞–ø–∏—Å—å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–º–µ—Ä)
- –í–∏–¥–µ–æ –º–æ–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å —Å –ª–æ–≥–æ–º –≤ backend

---

## üê≥ Docker-—Å–±–æ—Ä–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞


git clone https://github.com/Lobashik/VisitLog.git
cd VisitLog
docker-compose up --build


### –§–∞–π–ª docker-compose.yml —Å–æ–¥–µ—Ä–∂–∏—Ç 4 —Å–µ—Ä–≤–∏—Å–∞:
- backend
- bot
- face_tracking
- video_recording

–ö–∞–∂–¥—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–≤—è–∑–∞–Ω —á–µ—Ä–µ–∑ –æ–±—â—É—é —Å–µ—Ç—å Docker.

---

## üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–ø—Ä–∏–º–µ—Ä—ã)

–ú–æ–∂–Ω–æ –≤—ã–Ω–µ—Å—Ç–∏ –≤ `.env`-—Ñ–∞–π–ª—ã:

–î–ª—è `bot/`:

TELEGRAM_TOKEN=your_telegram_bot_token
ADMIN_CHAT_ID=123456789


–î–ª—è `backend/`:

DATABASE_URL=sqlite:///./visitlog.db


–î–ª—è `face_tracking/`:

CAMERA_URL=rtsp://user:password@camera_ip/stream


---

## üì¨ –ö–æ–º–∞–Ω–¥–∞

- [@Lobashik](https://github.com/Lobashik) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä, backend
- [@brewerkka](https://github.com/brewerkka) ‚Äî –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–µ –∑—Ä–µ–Ω–∏–µ, face tracking

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. —Ñ–∞–π–ª LICENSE.
